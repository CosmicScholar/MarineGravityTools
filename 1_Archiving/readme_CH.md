# Archiving
这是一个gmt脚本集合，用于整理海洋重力数据（从原始数据开始，到数据归档）。数据整理是参考NOAA的数据库格式——mgd77。下面介绍整个整理流程。

## （1）原始数据格式
以[Micro-g LaCoste Air-Sea Gravity Meter S-162](http://www.microglacoste.com/airseafeatures.php)型相对重力仪为例进行介绍。根据其说明文档，此重力仪将观测数据以天为单位输出为文本文件，有两个文件，后缀名分别为`.DAT`和`.ENV`，前者记录了观测数据，后者记录了环境参数。
观测数据文件中主要记录了时间、日期、观测值、经纬度、航速和航向等信息。基本格式详见格式描述文件，下面分别展示了实际观测输出的`.DAT`文件和`.ENV`文件格式。
```
$DAT,2009/ 1/25,23:53:59.23, 25, 9948.21, 9950.36,    3038.98,   -0.00,    0.00,    0.00,    0.00,    0.00,    0.24,    0.19,   -0.49,   -0.44,    0.00,  57.49814783, -20.15805292,  0.000, 239.600,
$DAT,2009/ 1/25,23:54: 0.23, 25, 9948.22, 9950.36,    -227.79,    0.00,   -0.00,   -0.01,    0.00,    0.00,    0.01,    0.11,   -0.10,   -0.33,    0.00,  57.49814773, -20.15805285,  0.000, 288.480,
```
```
%ENV,2009/ 1/26, 0: 0:42.00, 26,S-129/V1.5,    0.60,   49.05,   23.83,1.025255E-1,-0.76000,-0.88000, 0.20000, 0.48000,-1.70000,   1, 180
%ENV,2009/ 1/26, 0: 1:42.00, 26,S-129/V1.5,    0.60,   49.06,   23.89,1.025255E-1,-0.76000,-0.88000, 0.20000, 0.48000,-1.70000,   1, 180
```
## （2）筛选/提取测线
这一步可以通过一些现有的软件进行，主要是筛选近直线的测线作为有效的重力测线（比如用GlobalMapper或者surfer投点，然后挑选），后期作者计划开发一款给定规则的自动提取有效测线的程序包。筛选完成后按航次-航段-日期命名文件夹和文件，保持数据文件原格式不变。

